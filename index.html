<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="author" content="Jason Milkins" />
    <title>CodeFodder</title>
    <link href="/assets/dinky/stylesheets/styles.css?0.5864268532536914" type="text/css" rel="stylesheet" media="all">
<link href="/assets/dinky/widgets/google_prettify/stylesheets/twitter-bootstrap.css?0.8015893010782219" type="text/css" rel="stylesheet" media="all">

<script src="/assets/dinky/javascripts/scale.fix.js?0.7975411009448011"></script>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/">CodeFodder</a></h1>
        <p class="header">a code notepad</p>
        <ul>
            
              <li><a href="/archive">Archive</a></li>
            
              <li><a href="/tags">Tags</a></li>
            
              <li><a href="/categories">Categories</a></li>
            
              <li><a href="/pages">Pages</a></li>
            
              <li><a href="/about">About...</a></li>
        </ul>
        <div class="misc vcard">
          <ul>
            <li class="github"><a href="http://github.com/jasonm23/" rel="me">github</a></li>
          </ul>
        </div><!-- misc -->
      </header>

      <section>
      <section>
  <h1>CodeFodder</h1>

  <div class="post">
  <h3 class="title"><a href="/kendo-javascript/kendo-mobile-data-bind-with-formatting">Kendo mobile data-bind with formatting</a> <span class="date">2013-01-13</span></h3>

  <p>KendoUI&#39;s MVVM data-binding is pretty useful <em>(as is KnockoutJS,
AngularJS, Backbone etc. for that matter.)</em></p>

<p>Unfortunately in Kendo&#39;s implementation <code>data-bind=&quot;text: property&quot;</code>
binding doesn&#39;t provide a method to format property result. The
solution is quite simple though, in the form of custom binders.</p>

<p>As a best practice, you should create a custom binder for each the
format style you want, instead of placing a format expression as-is
into a binding attribute, this keeps your formatters in one
<a href="http://en.wikipedia.org/wiki/Don&#x27;t_repeat_yourself">DRY</a> place.</p>

<p>So, instead of trying to do: </p>

<pre><code>data-bind=&quot;text: {0:c}property&quot;
</code></pre>

<p>We give ourselves a new binder like this:</p>

<pre><code>data-bind=&quot;currency: property&quot;
</code></pre>

<p>To create this new binder <code>currency:</code> we want to add a new binder
definition to <code>kendo.data.binders</code>. We know the <code>text:</code> binder does
most of the things we want, , initialising, keeping up to date,
etc. All we need to do is extend <code>kendo.data.binders.text</code> and
override its <code>refresh</code> method.</p>

<p>We&#39;ll create our new binder as <code>kendo.data.binders.currency</code> </p>

<pre><code>kendo.data.binders.currency = kendo.data.binders.text.extend();
</code></pre>


  <div class="more">
    <a href="/kendo-javascript/kendo-mobile-data-bind-with-formatting" class="btn">read more..</a>
  </div>
</div>
<div class="post">
  <h3 class="title"><a href="/making-an-xterm-256color-chart">Making an xterm-256color chart</a> <span class="date">2012-06-04</span></h3>

  <p>I generally have a few terminal windows open, and I also tend to jump around a lot of locations on ssh, either in my home, or somewhere else in the world.</p>

<p>I find it&#39;s useful to color parts of my <code>zsh</code> prompt differently for each box I commonly use, so I can see/feel at a glance where I am.</p>

<p>Obviously the choices of colors for regular xterm are limited to the fairly ugly 16, and retinting those on Terminals that support such things is a bit of a maintenance headache that no one should endure.</p>

<p>Terminals which support xterm-256color are plentiful enough for me for that to be a workable arrangement.</p>

<p>I&#39;m a visually driven beast, so after fumbling about with ansi echo loops to find a approiate colors (googling xterm-256color chart didn&#39;t occur to me), I decided I&#39;d like to make a couple of helpful xterm-256color thingoes.</p>

<p>So first up we need a dataset, I pulled these color mappings out of  <a href="http://www.frexx.de/xterm-256-notes/data/xterm-colortest">Here</a> and here they are Yaml format, I&#39;ve re-arranged them to match the table <a href="http://en.wikipedia.org/wiki/File:Xterm_color_chart.png">on Wikipedia</a>, because I guess I&#39;m going to donate the SVG output there as a public domain image, and wasn&#39;t sure what the hue spread algorithm used there was.</p>

<p>Ok, so with our dataset, we can make our chart. We&#39;re using the same 80x60 box as the png, the xterm number sits in the bottom left corner and the hex color will sit near the vertical and horizontal center, we can use fixed postions for these since the strings are all the same size. The font is bitstream-vera-sans-mono for portablilty/licencing freedom.</p>

<p>I used the handy <code>text_color</code> function in the <code>colorist</code> gem (<code>gem install colorist</code>) which is a nice little library of color functions...</p>

<pre><code>require &#39;colorist&#39;   
include Colorist

puts &quot;#434392&quot;.to_color.text_color
</code></pre>

<p>Give you the text color from a CSS valid color string.</p>

<p>Ok, so let&#39;s have a look at laying this out... As I mentioned there&#39;s some nice color coordination on the origial table, which I want to bring over, sorting the big color list into the appropriate chunks does the trick. <a href="https://raw.github.com/gist/2868981/b80871f36954f11c7a7ee95a2d8d4f9886ce7361/xterm-256color.yaml">You can see the color data here</a></p>

<p>Then we divide into base (16), greyscales (24), and the rest... (216).</p>

<p>The 24 greyscales looked nice arranged as a snaked pair of rows, </p>

<pre><code>black -&gt; mid grey
white &lt;- mid grey
</code></pre>

<p>So we just reverse the last 12 so we can just do a simple modular arithmetic grid.</p>

<pre><code>x = i%12 * w
y = i/12 * h
</code></pre>


  <div class="more">
    <a href="/making-an-xterm-256color-chart" class="btn">read more..</a>
  </div>
</div>
<div class="post">
  <h3 class="title"><a href="/tinkerbin-com">Tinkerbin.com</a> <span class="date">2012-06-04</span></h3>

  <p>This is a cool little JSfiddle.com clone, just like JSFiddle and the rest, it does HTML, CSS &amp; JavaScript pastebin / live coding, but with the added niceness of giving you Haml, Sass &amp; CoffeeScript modes.</p>

<h3 id="toc_0"><a href="http://tinkerbin.com">Tinkerbin.com</a></h3>


  <div class="more">
    <a href="/tinkerbin-com" class="btn">read more..</a>
  </div>
</div>


</section>

      </section>

      <footer>
      <p><small>Hosted on <a href="http://post.ruhoh.com">ruhoh.com</a> using the <a href="https://github.com/sodabrew/theme-dinky">Dinky theme</a> for <a href="http://ruhoh.com/">ruhoh</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
    
    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint ";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    <script>
  var _gaq=[['_setAccount','UA-123-12'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
  </body>
</html>
